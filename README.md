# 🚀 节点配置转换工具 - 双向转换版

## ✨ 功能特色

本工具现已升级为双向转换工具，支持以下转换功能：

### 🔄 多格式转换支持
- **Clash YAML → V2rayN 链接**：将 Clash 格式的 YAML 配置文件转换为 V2rayN 可用的链接格式
- **V2rayN 链接 → Clash YAML**：将 V2rayN 节点链接转换为 Clash 格式的 YAML 配置文件
- **生成 V2Ray Config.json**：将任意格式的节点配置转换为 V2Ray 核心可直接使用的 config.json 配置文件

### 🛡️ 支持的协议类型
- **VMess**：完整支持各种传输协议和加密方式
- **VLESS**：包含 Reality 加密支持
- **Shadowsocks**：支持各种加密方法
- **Trojan**：支持 TLS 和 WebSocket 传输
- **Hysteria2**：支持最新的 Hysteria2 协议

### 🎨 现代化界面
- 美观的现代化 GUI 界面
- 支持可调整大小的分割窗口
- 实时状态反馈和错误提示
- 便捷的内容交换和复制功能
- 双向滚动条支持大量内容

## 📖 使用方法

### 🖥️ 图形界面模式

1. **启动程序**：双击运行程序或执行 `python yaml_to_v2rayn.py`
2. **选择转换方向**：
   - 点击 **「📋 Clash YAML → V2rayN 链接」** 将 Clash 配置转换为 V2rayN 链接
   - 点击 **「🔗 V2rayN 链接 → Clash YAML」** 将 V2rayN 链接转换为 Clash 配置
   - 点击 **「⚙️ 生成 V2Ray Config.json」** 将任意格式配置转换为 V2Ray 核心配置文件
3. **输入内容**：
   - 使用 **「📋 粘贴」** 按钮从剪贴板粘贴内容
   - 或直接在输入框中输入/编辑内容
4. **查看结果**：转换结果将显示在输出区域
5. **复制结果**：点击 **「📋 复制结果」** 将转换后的内容复制到剪贴板

### ⚡ 实用功能
- **🔄 交换内容**：一键交换输入输出内容，便于连续转换
- **🗑️ 清空功能**：快速清空输入或输出内容
- **📊 实时统计**：显示转换的节点数量和状态
- **🎯 智能识别**：自动识别输入内容类型（YAML/链接格式）
- **🎨 选中状态**：转换按钮颜色区分当前选择的转换方向
- **⚙️ V2Ray 配置**：生成完整的 V2Ray 核心配置，包含入站、出站和路由规则

### 💻 命令行模式

```bash
# 转换 Clash 配置文件为 V2rayN 链接
python yaml_to_v2rayn.py <clash配置文件路径>
```

转换结果会保存到与输入文件同目录下的 `<文件名>_v2ray_links.txt` 文件中。

## 📦 安装依赖

```bash
pip install -r requirements.txt
```

### 依赖包说明
- `pyyaml>=6.0.1`：YAML 文件解析
- `pyperclip>=1.8.2`：剪贴板操作

## 🔧 项目结构

```
节点转换/
├── yaml_to_v2rayn.py          # 主程序文件
├── requirements.txt           # Python 依赖
├── README.md                 # 项目说明
├── build_exe.py             # 打包脚本
└── *.spec                   # PyInstaller 配置文件
```

## 📝 更新日志

### v2.1 - 全功能版
- ✅ 新增 V2Ray config.json 生成功能
- ✅ 三种转换模式颜色区分（绿色/蓝色/橙色）
- ✅ 智能格式自动检测
- ✅ 完整的 V2Ray 核心配置生成
- ✅ 增强的 SS 节点解析能力（支持多种编码格式）

### v2.0 - 双向转换版
- ✅ 新增反向转换功能（V2rayN → Clash）
- ✅ 重新设计现代化 GUI 界面
- ✅ 支持可调整大小的分割窗口
- ✅ 新增内容交换和快捷操作功能
- ✅ 优化状态提示和错误处理
- ✅ 完善各协议的解析支持

### v1.0 - 基础版本
- ✅ 支持 Clash YAML 转 V2rayN 链接
- ✅ 支持 VMess、VLESS、SS、Trojan、Hysteria2 协议
- ✅ 基础 GUI 界面

## ⚠️ 注意事项

- 本工具仅供学习和研究使用
- 请确保您有合法权限使用相关网络服务
- 转换过程中请注意保护隐私信息
- 建议在转换前备份原始配置文件

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request 来改进这个工具！

## 📄 许可证

本项目仅供学习研究使用，请遵守相关法律法规。
